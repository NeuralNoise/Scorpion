{"filter":false,"title":"scorpionvm.c","tooltip":"/scorpion/vm/scorpionvm.c","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":508,"column":20},"end":{"row":508,"column":21},"action":"insert","lines":[" "],"id":1625}],[{"start":{"row":508,"column":21},"end":{"row":508,"column":22},"action":"insert","lines":["p"],"id":1626}],[{"start":{"row":508,"column":22},"end":{"row":508,"column":23},"action":"insert","lines":["r"],"id":1627}],[{"start":{"row":508,"column":23},"end":{"row":508,"column":24},"action":"insert","lines":["o"],"id":1628}],[{"start":{"row":508,"column":24},"end":{"row":508,"column":25},"action":"insert","lines":["f"],"id":1629}],[{"start":{"row":508,"column":24},"end":{"row":508,"column":25},"action":"remove","lines":["f"],"id":1630}],[{"start":{"row":508,"column":24},"end":{"row":508,"column":25},"action":"insert","lines":["g"],"id":1631}],[{"start":{"row":508,"column":25},"end":{"row":508,"column":26},"action":"insert","lines":["r"],"id":1632}],[{"start":{"row":508,"column":26},"end":{"row":508,"column":27},"action":"insert","lines":["t"],"id":1633}],[{"start":{"row":508,"column":26},"end":{"row":508,"column":27},"action":"remove","lines":["t"],"id":1634}],[{"start":{"row":508,"column":26},"end":{"row":508,"column":27},"action":"insert","lines":["a"],"id":1635}],[{"start":{"row":508,"column":27},"end":{"row":508,"column":28},"action":"insert","lines":["m"],"id":1636}],[{"start":{"row":508,"column":28},"end":{"row":508,"column":29},"action":"insert","lines":[" "],"id":1637}],[{"start":{"row":508,"column":29},"end":{"row":508,"column":30},"action":"insert","lines":["a"],"id":1638}],[{"start":{"row":508,"column":30},"end":{"row":508,"column":31},"action":"insert","lines":["r"],"id":1639}],[{"start":{"row":508,"column":31},"end":{"row":508,"column":32},"action":"insert","lines":["g"],"id":1640}],[{"start":{"row":508,"column":32},"end":{"row":508,"column":33},"action":"insert","lines":["s"],"id":1641}],[{"start":{"row":508,"column":33},"end":{"row":508,"column":34},"action":"insert","lines":[" "],"id":1642}],[{"start":{"row":508,"column":34},"end":{"row":508,"column":35},"action":"insert","lines":["i"],"id":1643}],[{"start":{"row":508,"column":35},"end":{"row":508,"column":36},"action":"insert","lines":["n"],"id":1644}],[{"start":{"row":508,"column":36},"end":{"row":508,"column":37},"action":"insert","lines":[" "],"id":1645}],[{"start":{"row":508,"column":37},"end":{"row":508,"column":38},"action":"insert","lines":["S"],"id":1646}],[{"start":{"row":508,"column":37},"end":{"row":508,"column":38},"action":"remove","lines":["S"],"id":1647}],[{"start":{"row":508,"column":37},"end":{"row":508,"column":38},"action":"insert","lines":["A"],"id":1648}],[{"start":{"row":508,"column":38},"end":{"row":508,"column":39},"action":"insert","lines":["r"],"id":1649}],[{"start":{"row":508,"column":39},"end":{"row":508,"column":40},"action":"insert","lines":["r"],"id":1650}],[{"start":{"row":508,"column":40},"end":{"row":508,"column":41},"action":"insert","lines":["a"],"id":1651}],[{"start":{"row":508,"column":41},"end":{"row":508,"column":42},"action":"insert","lines":["y"],"id":1652}],[{"start":{"row":508,"column":42},"end":{"row":508,"column":43},"action":"insert","lines":["O"],"id":1653}],[{"start":{"row":508,"column":43},"end":{"row":508,"column":44},"action":"insert","lines":["b"],"id":1654}],[{"start":{"row":508,"column":44},"end":{"row":508,"column":45},"action":"insert","lines":["j"],"id":1655}],[{"start":{"row":508,"column":45},"end":{"row":508,"column":46},"action":"insert","lines":["e"],"id":1656}],[{"start":{"row":508,"column":46},"end":{"row":508,"column":47},"action":"insert","lines":["c"],"id":1657}],[{"start":{"row":508,"column":47},"end":{"row":508,"column":48},"action":"insert","lines":["t"],"id":1658}],[{"start":{"row":591,"column":95},"end":{"row":591,"column":96},"action":"remove","lines":["]"],"id":1659}],[{"start":{"row":590,"column":76},"end":{"row":590,"column":81},"action":"remove","lines":[" - 1)"],"id":1660}],[{"start":{"row":590,"column":47},"end":{"row":590,"column":48},"action":"remove","lines":["("],"id":1661}],[{"start":{"row":591,"column":95},"end":{"row":591,"column":96},"action":"remove","lines":[")"],"id":1662}],[{"start":{"row":591,"column":95},"end":{"row":591,"column":96},"action":"insert","lines":["]"],"id":1663}],[{"start":{"row":596,"column":63},"end":{"row":596,"column":64},"action":"remove","lines":[" "],"id":1664}],[{"start":{"row":596,"column":47},"end":{"row":596,"column":48},"action":"remove","lines":["i"],"id":1665}],[{"start":{"row":596,"column":47},"end":{"row":596,"column":48},"action":"insert","lines":["0"],"id":1666}],[{"start":{"row":593,"column":55},"end":{"row":598,"column":12},"action":"remove","lines":["","        if(gSvm.envCount > 1){","            for(int i = 0; i < gSvm.envCount; i++)","              svmBitmapMemoryShutdown(gSvm.env[0].getBitmap());","        }","        else"],"id":1667}],[{"start":{"row":594,"column":9},"end":{"row":594,"column":10},"action":"remove","lines":[" "],"id":1668}],[{"start":{"row":594,"column":8},"end":{"row":594,"column":9},"action":"remove","lines":[" "],"id":1669}],[{"start":{"row":594,"column":43},"end":{"row":594,"column":44},"action":"remove","lines":["."],"id":1670}],[{"start":{"row":594,"column":42},"end":{"row":594,"column":43},"action":"remove","lines":["]"],"id":1671}],[{"start":{"row":594,"column":41},"end":{"row":594,"column":42},"action":"remove","lines":["0"],"id":1672}],[{"start":{"row":594,"column":40},"end":{"row":594,"column":41},"action":"remove","lines":["["],"id":1673}],[{"start":{"row":594,"column":40},"end":{"row":594,"column":41},"action":"insert","lines":["-"],"id":1674}],[{"start":{"row":594,"column":41},"end":{"row":594,"column":42},"action":"insert","lines":[">"],"id":1675}],[{"start":{"row":594,"column":52},"end":{"row":594,"column":53},"action":"remove","lines":[")"],"id":1677}],[{"start":{"row":594,"column":51},"end":{"row":594,"column":53},"action":"remove","lines":["()"],"id":1678}],[{"start":{"row":594,"column":50},"end":{"row":594,"column":51},"action":"remove","lines":["p"],"id":1679}],[{"start":{"row":594,"column":49},"end":{"row":594,"column":50},"action":"remove","lines":["a"],"id":1680}],[{"start":{"row":594,"column":48},"end":{"row":594,"column":49},"action":"remove","lines":["m"],"id":1681}],[{"start":{"row":594,"column":47},"end":{"row":594,"column":48},"action":"remove","lines":["t"],"id":1682}],[{"start":{"row":594,"column":46},"end":{"row":594,"column":47},"action":"remove","lines":["i"],"id":1683}],[{"start":{"row":594,"column":45},"end":{"row":594,"column":46},"action":"remove","lines":["B"],"id":1684}],[{"start":{"row":594,"column":44},"end":{"row":594,"column":45},"action":"remove","lines":["t"],"id":1685}],[{"start":{"row":594,"column":43},"end":{"row":594,"column":44},"action":"remove","lines":["e"],"id":1686}],[{"start":{"row":594,"column":42},"end":{"row":594,"column":43},"action":"remove","lines":["g"],"id":1687}],[{"start":{"row":594,"column":42},"end":{"row":594,"column":43},"action":"insert","lines":["b"],"id":1688}],[{"start":{"row":594,"column":43},"end":{"row":594,"column":44},"action":"insert","lines":["i"],"id":1689}],[{"start":{"row":594,"column":42},"end":{"row":594,"column":44},"action":"remove","lines":["bi"],"id":1690},{"start":{"row":594,"column":42},"end":{"row":594,"column":48},"action":"insert","lines":["bitmap"]}],[{"start":{"row":594,"column":48},"end":{"row":594,"column":49},"action":"insert","lines":[")"],"id":1691}],[{"start":{"row":429,"column":53},"end":{"row":430,"column":0},"action":"insert","lines":["",""],"id":1692},{"start":{"row":430,"column":0},"end":{"row":430,"column":5},"action":"insert","lines":["     "]}],[{"start":{"row":430,"column":4},"end":{"row":430,"column":5},"action":"remove","lines":[" "],"id":1693}],[{"start":{"row":430,"column":0},"end":{"row":430,"column":4},"action":"remove","lines":["    "],"id":1694}],[{"start":{"row":429,"column":53},"end":{"row":430,"column":0},"action":"remove","lines":["",""],"id":1695}],[{"start":{"row":428,"column":117},"end":{"row":428,"column":132},"action":"remove","lines":["PROTOTYPE_LIMIT"],"id":1696},{"start":{"row":428,"column":117},"end":{"row":428,"column":118},"action":"insert","lines":["s"]}],[{"start":{"row":428,"column":118},"end":{"row":428,"column":119},"action":"insert","lines":["t"],"id":1697}],[{"start":{"row":428,"column":119},"end":{"row":428,"column":120},"action":"insert","lines":["a"],"id":1698}],[{"start":{"row":428,"column":117},"end":{"row":428,"column":120},"action":"remove","lines":["sta"],"id":1699},{"start":{"row":428,"column":117},"end":{"row":428,"column":128},"action":"insert","lines":["stack_limit"]}],[{"start":{"row":428,"column":130},"end":{"row":428,"column":131},"action":"insert","lines":[" "],"id":1701}],[{"start":{"row":149,"column":47},"end":{"row":151,"column":29},"action":"remove","lines":["","           // if(!((i + 1) < argc))","           //     return -1; "],"id":1703}],[{"start":{"row":302,"column":0},"end":{"row":303,"column":80},"action":"remove","lines":["","// TODO: Figure out why gSvm.permissions is being used for permission processing"],"id":1704}],[{"start":{"row":515,"column":5},"end":{"row":516,"column":70},"action":"remove","lines":["","    * invoke the main method from memory (should be set at mem addr 0)"],"id":1705}],[{"start":{"row":516,"column":5},"end":{"row":517,"column":39},"action":"remove","lines":["","    * If VM cannot be started return -1"],"id":1706}],[{"start":{"row":516,"column":4},"end":{"row":516,"column":5},"action":"remove","lines":["*"],"id":1707}],[{"start":{"row":516,"column":0},"end":{"row":516,"column":4},"action":"remove","lines":["    "],"id":1708}],[{"start":{"row":515,"column":5},"end":{"row":516,"column":0},"action":"remove","lines":["",""],"id":1709}],[{"start":{"row":516,"column":5},"end":{"row":517,"column":86},"action":"remove","lines":["","    * Once main method is invoked call Scorpion_VMExecute() to execute bytestream data"],"id":1710}],[{"start":{"row":517,"column":5},"end":{"row":518,"column":78},"action":"remove","lines":["","    * use goto statements in Scorpion_VMExecute() to make for faster execution"],"id":1711}],[{"start":{"row":554,"column":4},"end":{"row":555,"column":119},"action":"remove","lines":["","   // TODO: if PC is at end of program and hlt has not been called, automatically shutdown the VM (do not force close!)"],"id":1712}],[{"start":{"row":506,"column":25},"end":{"row":553,"column":6},"action":"remove","lines":[""," ","    /*","    * TODO: this is the todo list for this function","    *","    * Figure out how we can use gSvm.vm.status variable","    *","    * review dalvik's code for destroying the java VM as well as ","    * starting up the vm (use that as help)","    *","    *","    *","    *","    * int Scorpion_VMExecute() {","    *","    *   // prepare for execution","    *  // if execution cannot be started return -1 to be hadled","    * int i; // our instruction","    *  exe:","    *","    *  if(gSvm.Debug)","    *   // do debug stuff","    *","    *   // request next instr from imageholder and assign it to i","    *  if(isg1(i))  // find faster way to check for i (possibly use XSO image code for how to pre process an instr)","    *    goto igroup1;","    *  else if(isg2(i))","    *    goto igroup2;","    *  else if(isg3(i))","    *    goto igroup3;","    *  else","    *    goto segfault;","    *  ","    *   igroup1: // for instructions that have no arguments","    *     switch( i ){","    *         case OP_HLT:","    *         // shutdown","    *         break;","    *     }","    *     goto exe;    // execute an instr and go back to top","    *","    *   segfault:","    *     // crash app (do not fource shutdown!) note use same code used in XSO for preprocessing an img","    *","    *  after that fit the debugger into the exe engine","    * have debugger work instr by instr","    *","    */"],"id":1713}],[{"start":{"row":507,"column":0},"end":{"row":507,"column":4},"action":"remove","lines":["    "],"id":1714}],[{"start":{"row":506,"column":25},"end":{"row":507,"column":0},"action":"remove","lines":["",""],"id":1715}],[{"start":{"row":267,"column":25},"end":{"row":269,"column":20},"action":"remove","lines":["","            alog.ALOGV(\"--- VM is down, process exiting.\");","            exit(0);"],"id":1718}],[{"start":{"row":267,"column":25},"end":{"row":268,"column":0},"action":"insert","lines":["",""],"id":1719},{"start":{"row":268,"column":0},"end":{"row":268,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":268,"column":12},"end":{"row":268,"column":13},"action":"insert","lines":["r"],"id":1720}],[{"start":{"row":268,"column":13},"end":{"row":268,"column":14},"action":"insert","lines":["e"],"id":1721}],[{"start":{"row":268,"column":14},"end":{"row":268,"column":15},"action":"insert","lines":["t"],"id":1722}],[{"start":{"row":268,"column":15},"end":{"row":268,"column":16},"action":"insert","lines":["u"],"id":1723}],[{"start":{"row":268,"column":16},"end":{"row":268,"column":17},"action":"insert","lines":["r"],"id":1724}],[{"start":{"row":268,"column":17},"end":{"row":268,"column":18},"action":"insert","lines":["n"],"id":1725}],[{"start":{"row":268,"column":18},"end":{"row":268,"column":19},"action":"insert","lines":[" "],"id":1726}],[{"start":{"row":268,"column":19},"end":{"row":268,"column":20},"action":"insert","lines":["0"],"id":1727}],[{"start":{"row":268,"column":20},"end":{"row":268,"column":21},"action":"insert","lines":[";"],"id":1728}],[{"start":{"row":268,"column":19},"end":{"row":268,"column":20},"action":"remove","lines":["0"],"id":1729}],[{"start":{"row":268,"column":18},"end":{"row":268,"column":19},"action":"remove","lines":[" "],"id":1730}]]},"ace":{"folds":[],"scrolltop":4630.908994438237,"scrollleft":0,"selection":{"start":{"row":250,"column":34},"end":{"row":250,"column":34},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":230,"state":"start","mode":"ace/mode/c_cpp"}},"timestamp":1445189269000,"hash":"5fb85cd4dfe4ff4d2a700bcbfe0e116b318e2e98"}